import{e as r,i as n,a as p,A as h}from"./Article.c0a9e490.js";import{_ as u,o as c,c as m,h as l,v as d,g as a,t as g,i as f}from"./index.a33be5fc.js";const y={data(){return{isLoading:!1,post:{title:"",body:""}}},computed:{isEdit(){return this.$route.meta.type=="edit"}},mounted(){this.isEdit&&this.getArticles()},methods:{onFormSubmit(){this.isLoading=!0,this.isEdit?r(this.post,this.$route.params.kode).then(t=>{console.log(t.data),this.$router.replace("/blog/"+t.data.id)}).catch(t=>{console.log(t)}).finally(()=>{this.isLoading=!1}):n(this.post).then(t=>{console.log(t.data),this.$router.replace("/blog/"+t.data.id)}).catch(t=>{console.log(t)}).finally(()=>{this.isLoading=!1})},getArticles(){this.isLoading=!0,p.get("http://localhost:3000/posts/"+this.$route.params.kode).then(t=>{this.post.body=t.data.body,this.post.title=t.data.title}).catch(t=>{console.log(t)}).finally(()=>{this.isLoading=!1})}},components:{Article:h}},b={type:"submit"};function x(t,o,L,S,s,i){return c(),m("form",{onSubmit:o[2]||(o[2]=f((...e)=>i.onFormSubmit&&i.onFormSubmit(...e),["prevent"]))},[l(a("input",{type:"text",placeholder:"Title","onUpdate:modelValue":o[0]||(o[0]=e=>s.post.title=e)},null,512),[[d,s.post.title]]),l(a("input",{type:"text",placeholder:"Body","onUpdate:modelValue":o[1]||(o[1]=e=>s.post.body=e)},null,512),[[d,s.post.body]]),a("button",b,g(i.isEdit?"Update":"Save"),1)],32)}const E=u(y,[["render",x]]);export{E as default};
